{% extends 'layout_watch.tmpl' %}

{% block pre %}
  <script type='text/javascript'>
   /* Filename: templates/watch.tmpl
    * Author: AHN
    * Creation Date: Aug, 2020
    * A board to watch other peoples' games
    */
  </script>
{% endblock pre %}

{% block css %}
  <style>
   /* CSS SLIDER from https://www.w3schools.com/howto/howto_css_switch.asp */
   /*----------------------------------------------------------------------*/

   /* The switch - the box around the slider */
   .switch {
     position: relative;
     display: inline-block;
     width: 30px;
     height: 16px;
   }

   /* Hide default HTML checkbox */
   .switch input {
     opacity: 0;
     width: 0;
     height: 0;
   }

   /* The slider */
   .slider {
     position: absolute;
     cursor: pointer;
     top: 0;
     left: 0;
     right: 0;
     bottom: 0;
     background-color: #aaaaaa;
     -webkit-transition: .1s;
     transition: .1s;
   }

   .slider:before {
     position: absolute;
     content: "";
     height: 13px;
     width: 13px;
     left: 2px;
     bottom: 2px;
     background-color: white;
     -webkit-transition: .1s;
     transition: .1s;
   }

   input:checked + .slider {
     background-color: #2196F3;
   }

   input:focus + .slider {
     box-shadow: 0 0 1px #2196F3;
   }

   input:checked + .slider:before {
     -webkit-transform: translateX(13px);
     -ms-transform: translateX(13px);
     transform: translateX(13px);
   }

   /* Rounded sliders */
   .slider.round {
     border-radius: 9px;
   }

   .slider.round:before {
     border-radius: 50%;
   }
  </style>
{% endblock css %}

{% block content %}
  <br>
  <table class='center'>
    <tr>
      <td style='vertical-align:top' width='500px'>                      <!--left-->
        <div class='container'>
          <div class='row' style='font-size:40pt;height:100px'> <!-- top margin -->
            <div class='col-12'>
              &nbsp;
            </div>
          </div>
          <div class='row'>
            <div class='col-12 text-center'>
              <label id='btn_tgl_live' class='btn btn-outline-dark' style='font-size:11pt;'>{{tr('Live')}}</label>
            </div>
          </div>
          <div class='row'>
            <div id='game_info' class='col-12 text-center' style='font-size:10pt'> </div>
          </div>
          <div class='row'>
            <div id='fname' class='col-12 text-center' style='font-size:10pt'> </div>
          </div>
          <div class='row'>
            <div class='col-12'>
              <span id='lb_komi' style='font-size:9pt'>&nbsp;</span>
            </div>
          </div>
          <div class='row'>
            <div id='board' class='col-12 text-center'> </div>
          </div>
          <div class='row justify-content-center'>
            <table class='center' width='100%'>
              <tr>
                <td id='movenum' align='center' style='font-size:13pt' width='30%'> &nbsp;</td>
                <td id='status' align='center' style='font-size:13pt' width='40%'> &nbsp;</td>
                <td id='emo' align='center' style='font-size:30pt' width='30%' height='60px'> &nbsp;</td>
              </tr>
            </table>
          </div>
        </div>                <!--col-12-->
        </div>                  <!--row-->
        </div>                    <!--container-->
      </td>
      <td style='vertical-align:top' width='300px'>                      <!--right-->
        <div class='container' > <!-- top margin -->
          <div class='row' style='font-size:40pt;height:200px'>
            <div class='col-12'>
              &nbsp;
            </div>
          </div>
          <div class='row'>
            <div class='col-5'>
              <img id='img_bot' src='static/kata.png' style='height:120px'>
            </div>
            <div class='col-6' style='font-size:11pt'>
              <div id='descr_bot'>
                KataGo 20 blocks<br>2020-05-30
              </div>
            </div>
          </div>
          <!-- Space on top of buttons -->
          <div class='row' style='font-size:20pt;height:20px'>
            <div class='col-12'>
              &nbsp;
            </div>
          </div>
          <div class='row justify-content-center'>
            <!-- <div class='col-12'> -->
            <table style='padding:0px'>
              <tr style='transform:translate(0,-8px)'>
                <td style='padding:2px;margin:0'>
                  <label id='btn_best' class='btn btn-outline-dark' style='font-size:11pt;'>{{tr('Best')}}</label>
                </td>
                <td style='padding:2px;margin:0'>
                  <label id='btn_nnscore' class='btn btn-outline-dark' style='font-size:11pt;'>{{tr('Score')}}</label>
                </td>
              </tr>
            </table>
            <!-- </div> -->
          </div>
          <div class='row justify-content-center'>
            <label id='btn_back10' class='btn btn-outline-dark' style='font-size:8pt;'>{{tr('Back 10')}}</label>&nbsp;
            <label id='btn_prev' class='btn btn-outline-dark' style='font-size:8pt;'>{{tr('Prev')}}</label>&nbsp;
            <label id='btn_next' class='btn btn-outline-dark' style='font-size:8pt;'>{{tr('Next')}}</label>&nbsp;
            <label id='btn_fwd10' class='btn btn-outline-dark' style='font-size:8pt;'>{{tr('Fwd 10')}}</label>
          </div>
          <div class='row justify-content-center'>
            <label id='btn_first' class='btn btn-outline-dark' style='font-size:8pt;'>{{tr('First')}}</label>&nbsp;
            <label id='btn_last' class='btn btn-outline-dark' style='font-size:8pt;'>{{tr('Last')}}</label>
          </div>
          <div class='row' style='font-size:5pt'>
            &nbsp;
          </div>
          <div class='row justify-content-center'>
            <label id='btn_save' class='btn btn-outline-dark' style='font-size:11pt;'>{{tr('Save Sgf')}}</label>&nbsp;
          </div>
          <!-- <div class='row justify-content-center'>
               </div> -->
          <div class='row' style='font-size:5pt'>
            &nbsp;
          </div>
          <div class='row justify-content-center'>
            <label id='btn_clear_var' class='btn btn-outline-dark' style='font-size:11pt;'>{{tr('Back to Main Line')}}</label>
          </div>
        </div>                  <!--right container-->
      </td>                     <!--right-->
    </tr></table>

    <!-- General purpose modal popup (alert box) -->
    <div class='modal fade' id='alertbox' tabindex='-1' role='dialog' aria-hidden='true'>
      <div class='modal-dialog' role='document'>
        <div class='modal-content'>
          <div class='modal-header'>
            <h5 id='alertbox_title' class='modal-title'>Very Important Message</h5>
          </div>
          <div class='modal-body'>
            <span id='alertbox_message'> </span>
          </div>
          <div class='modal-footer'>
            <button type='button' class='btn btn-primary' data-dismiss='modal'>Ok</button>
          </div>
        </div>
      </div>
    </div>
{% endblock content %}

{% block js %}
  <!-- Entry Point -->
  <script type='text/javascript' src='static/small/board.js'></script>
  <script type='text/javascript'>
   //const GAME_HASH = '{{ game_hash }}'
   $(function () {
     //main( JGO, new AhauxUtils( d3, $), {mobile:false} )
     watch( JGO, axutil, '{{ game_hash }}', {mobile:false} )
   })
  </script>
{% endblock js %}
